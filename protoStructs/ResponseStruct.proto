syntax = "proto3";

package ResponseStruct;

message FileInfo {
	string pame = 1;
	string path = 2;
	string hash = 3;
}

message DirInfo {
	string path = 1;
}

message NameOfMainExeFile {
	string name = 1; 
}

message SessionInfo {
	string UID = 1;
}

// using when server must disconnect client and notify
message DisconnectNotifying {
	enum types {
		unknown = 0;
		warn = 1;
		error = 2;
		tempBan = 3;
		inactive = 4;
	}

	types type = 1;
	string description = 2;
	int32 code = 3;
}

message ResponseInfo {
	enum types {
		unknown	= 0;
		fileHashRequest = 1;
		downloadFile = 2;
		sendMessage = 3;
		readMessage = 4;
		editMessage = 5;
		pinMessage = 6;
		deleteMessage = 7;
		userTyping = 8;
		userOnlineStatus = 9;
		getUnreadMessageCount = 10;
	}

	types type = 1;
}

// MAIN
message Response {
	// PERMANENT NECESSARY FIELDS
	ResponseInfo responseInfo = 1; // important field of request info
	SessionInfo sessionInfo = 2;
	
	// OPTIONAL UPDATE FIELDS
	DisconnectNotifying disconnectNotifying = 3;

	// usage while checking update and updating
	repeated FileInfo fileInfo = 4; 
	repeated DirInfo dirInfo = 5;
	NameOfMainExeFile nameOfMainExeFile = 6;
}